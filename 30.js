(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[30,67],{"0jGJ":function(e,t,_){e.exports={btn:"btn___2Qp3s",modalWrap:"modalWrap___1p1LB",modalMask:"modalMask___2WVb0",modal:"modal___2azsy",closeBtn:"closeBtn___2RpMi",modalTit:"modalTit___cqk5s",footer:"footer___23aTG"}},"eU/t":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _Users_apple_Desktop_github_h5_dooring_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("tJVT"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("cDcd"),react__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__),react_luck_draw__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("HBJs"),_BasicComponents_XButton_Modal__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("jwKU"),Drawer=Object(react__WEBPACK_IMPORTED_MODULE_1__["memo"])(props=>{var borderWidth=props.borderWidth,borderColor=props.borderColor,imgUrl=props.imgUrl,sourceData=props.sourceData,fontSize=props.fontSize,color=props.color,bgColor=props.bgColor,radius=props.radius,btnText=props.btnText,_props$interaction=props.interaction,interaction=void 0===_props$interaction?{type:"",content:"",title:"",width:300,height:300,okText:"",cancelText:"",btnColor:"",onOk:""}:_props$interaction,type=interaction.type,content=interaction.content,title=interaction.title,ref=Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null),_useState=Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(!1),_useState2=Object(_Users_apple_Desktop_github_h5_dooring_editor_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__["a"])(_useState,2),visible=_useState2[0],setVisible=_useState2[1],config={blocks:[{padding:borderWidth+"px",background:borderColor}],prizes:sourceData.map(e=>{var t=e.background,_=e.title,o=e.imgUrl;return{background:t,fonts:[{text:_,top:"18%"}],imgs:o[0]&&o[0].url?[{src:o[0].url,width:"48px",height:"48px"}]:[]}}),buttons:[{radius:"50px",background:"#d64737"},{radius:"45px",background:"#fff"},{radius:"41px",background:"#f6c66f",pointer:!0},{radius:"35px",background:"#ffdea0",fonts:[{text:btnText,fontSize:"18px",top:-18}]}],defaultStyle:{fontColor:color,fontSize:fontSize+"px"}},handleClose=()=>{setVisible(!1)};return react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:bgColor,backgroundImage:imgUrl[0]?"url(".concat(imgUrl[0].url,")"):"none",padding:"16px",borderRadius:radius+"px",boxShadow:"0 0 6px rgba(0,0,0, .1)"}},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(react_luck_draw__WEBPACK_IMPORTED_MODULE_2__["b"],{ref:ref,width:"300px",height:"300px",blocks:config.blocks,prizes:config.prizes,buttons:config.buttons,defaultStyle:config.defaultStyle,onStart:()=>{window.location.href.indexOf("editor")>-1||(ref.current.play(),setTimeout(()=>{var e=6*Math.random()>>0;ref.current.stop(e)},2e3))},onEnd:prize=>{if("link"===type){if(content.indexOf("http")>-1)return void(window.location.href=content);history.replace("?tid=".concat(content))}else"modal"===type?setVisible(!0):"code"===type&&eval(content);console.log("\u62bd\u5956\u7ed3\u679c:"+prize.fonts[0].text)}}),react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement(_BasicComponents_XButton_Modal__WEBPACK_IMPORTED_MODULE_3__["default"],{visible:visible,onClose:handleClose,title:interaction&&interaction.title,width:interaction.width,height:interaction.height,okText:interaction.okText,cancelText:interaction.cancelText,onOk:interaction.onOk,btnColor:interaction.btnColor},react__WEBPACK_IMPORTED_MODULE_1___default.a.createElement("div",{dangerouslySetInnerHTML:{__html:content}})))});__webpack_exports__["default"]=Drawer},jwKU:function(e,t,_){"use strict";_.r(t);var o=_("cDcd"),r=_.n(o),a=_("faye"),n=_.n(a),i=_("0jGJ"),l=_.n(i),c=e=>{var t=e.visible,_=e.title,o=e.children,a=e.onClose,i=e.height,c=e.width,s=e.okText,d=e.cancelText,p=e.onOk,u=e.btnColor,b=()=>{p&&(location.href=p)},m=()=>{a&&a()},E=r.a.createElement("div",{className:l.a.modalWrap},r.a.createElement("div",{className:l.a.modalMask}),r.a.createElement("div",{className:l.a.modal,style:{width:c+"px",height:i+"px"}},r.a.createElement("span",{className:l.a.closeBtn,onClick:a},"x"),r.a.createElement("div",{className:l.a.modalTit},_),r.a.createElement("div",{style:{maxHeight:i-120,overflow:"auto"}}," ",o," "),(!!s||!!d)&&r.a.createElement("div",{className:l.a.footer},r.a.createElement("div",{className:l.a.btn,onClick:b,style:{backgroundColor:u}},s||"\u786e\u8ba4"),r.a.createElement("div",{className:l.a.btn,onClick:m},d||"\u53d6\u6d88"))));return t?n.a.createPortal(E,document.body):null};t["default"]=Object(o["memo"])(c)}}]);